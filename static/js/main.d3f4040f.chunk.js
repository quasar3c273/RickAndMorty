(this.webpackJsonpelfsight=this.webpackJsonpelfsight||[]).push([[0],{32:function(e,t,n){},36:function(e,t,n){"use strict";n.r(t);var a=n(1),c=n.n(a),s=n(8),r=n.n(s),i=n(6),l=n(2),o=n(4),j=n(39),d=n(40),b=(n(28),n(0)),u=function(e){return Object(b.jsxs)(j.a,Object(l.a)(Object(l.a)({},e),{},{size:"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[Object(b.jsx)(j.a.Header,{closeButton:!0,children:Object(b.jsx)(j.a.Title,{id:"contained-modal-title-vcenter",children:Object(b.jsxs)("h2",{children:[" Info about ",e.name]})})}),Object(b.jsx)(j.a.Body,{children:Object(b.jsxs)("div",{className:"d-flex justify-content-center align-items-center",children:[Object(b.jsx)("img",{src:e.image,alt:e.name}),Object(b.jsxs)("div",{className:"mx-3",children:[Object(b.jsx)("h2",{children:Object(b.jsx)("b",{children:e.name})}),Object(b.jsxs)("h4",{children:["Origin name: ",e.origin.name]}),Object(b.jsxs)("p",{children:["Gender: ",e.gender]}),Object(b.jsxs)("p",{children:["Status: ",e.status]}),Object(b.jsxs)("p",{children:["Species: ",e.species]}),Object(b.jsxs)("p",{className:""===e.type?"d-none":"",children:["Type: ",e.type]}),Object(b.jsxs)("p",{children:["Last known location: ",e.location.name]})]})]})}),Object(b.jsx)(j.a.Footer,{children:Object(b.jsx)(d.a,{onClick:e.onHide,children:"Close"})})]}))},h=function(e){var t=e.image,n=e.url,c=e.name,s=e.width,r=e.height,i=e.status,l=e.species,j=e.gender,d=e.type,h=e.origin,m=e.location,x=Object(a.useState)(!1),O=Object(o.a)(x,2),g=O[0],f=O[1];return t||(t="https://via.placeholder.com/".concat(s,"x").concat(r)),Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("div",{className:"col-lg-3 col-md-6 col-xs-6 mb-3",children:Object(b.jsxs)("a",{onClick:function(e){e.preventDefault(),f(!0)},href:n,className:"text-white bg-dark d-flex flex-column text-decoration-none",children:[Object(b.jsx)("img",{className:"character-item__img card-img-bottom",src:t,alt:c,width:s,height:r}),Object(b.jsx)("div",{className:"p-3",children:Object(b.jsx)("h5",{className:"overflow-hidden text-nowrap",children:c})})]})}),Object(b.jsx)(u,{image:t,name:c,show:g,status:i,species:l,gender:j,type:d,origin:h,location:m,onHide:function(){return f(!1)}})]})};h.defaultProps={image:"https://via.placeholder.com/150"};var m=h,x=function(e){var t=e.characters,n=void 0===t?[]:t;return Object(b.jsx)("div",{className:"container",children:Object(b.jsx)("div",{className:"row",children:n.map((function(e){return Object(b.jsx)(m,Object(l.a)({},e),e.id)}))})})},O=n(3),g=["name","text","onFilterChange"],f=function(e){var t=e.name,n=e.text,a=e.onFilterChange,c=Object(O.a)(e,g),s=t[0].toUpperCase()+t.substring(1);return Object(b.jsxs)("div",{className:"mx-2 flex-grow-1 flex-shrink-1",children:[Object(b.jsxs)("label",{className:"form-label",htmlFor:t,children:[s,":"]}),Object(b.jsx)("input",Object(l.a)({onChange:function(e){return a(t,e.target.value)},name:t,id:t,className:"form-control"},c)),n&&Object(b.jsx)("div",{id:"emailHelp",className:"form-text",children:n})]})},p=["name","className","containerClass","defaultValue","values","label","text","onFilterChange"],v=function(e){var t=e.name,n=(e.className,e.containerClass,e.defaultValue),a=e.values,c=e.label,s=e.text,r=e.onFilterChange,i=Object(O.a)(e,p);return Object(b.jsxs)("div",{className:"mx-2 flex-grow-1 flex-shrink-1",children:[c&&Object(b.jsx)("label",{className:"form-label",htmlFor:t,children:c}),Object(b.jsxs)("select",Object(l.a)(Object(l.a)({name:t,id:t,className:"form-select",onChange:function(e){return r(t,e.target.value)},defaultValue:n,"aria-label":"Select for ".concat(t)},i),{},{children:[Object(b.jsx)("option",{value:"",children:"Select for ".concat(t)}),a.map((function(e){return Object(b.jsx)("option",{value:e,children:e[0].toUpperCase()+e.substring(1)},e)}))]})),s&&Object(b.jsx)("div",{className:"form-text",children:s})]})},N=function(e){var t=e.filters,n=e.onFilterChange;return Object(b.jsx)("div",{className:"filter container mb-5 text-white",children:Object(b.jsxs)("div",{className:"d-flex flex-wrap justify-content-center mr-1",children:[Object(b.jsx)(f,{value:t.name,name:"name",onFilterChange:n,type:"text"}),Object(b.jsx)(v,{label:"Gender:",name:"gender",onFilterChange:n,values:["female","male","genderless","unknown"]}),Object(b.jsx)(v,{label:"Choose status:",name:"status",onFilterChange:n,values:["alive","dead","unknown"]}),Object(b.jsx)(f,{value:t.species,label:"Race:",name:"species",onFilterChange:n,type:"text"}),Object(b.jsx)(f,{value:t.type,label:"Type:",name:"type",onFilterChange:n,type:"text"})]})})},C=function(e){var t=e.onFilterChange,n=e.filters;return Object(b.jsx)("header",{className:"bg-dark mb-5",children:Object(b.jsxs)("div",{className:"container navbar navbar-dark bg-dark",children:[Object(b.jsx)("div",{className:"container",children:Object(b.jsx)("h3",{className:"text-white",children:"Rick and Morty API"})}),Object(b.jsx)(N,{onFilterChange:t,filters:n})]})})},k=function(){return Object(b.jsx)("div",{className:"d-flex justify-content-center align-items-center",children:Object(b.jsx)("div",{className:"spinner-grow text-dark",role:"status",children:Object(b.jsx)("span",{className:"sr-only",children:"Loading..."})})})},w=(n(32),function(e){var t=e.hasError,n=e.children;return 404===t?Object(b.jsx)(b.Fragment,{children:Object(b.jsxs)("div",{className:"background-img",children:[Object(b.jsx)("div",{className:"space"}),Object(b.jsxs)("div",{className:"wrapper",children:[Object(b.jsx)("div",{className:"img-wrapper",children:Object(b.jsx)("span",{children:"44"})}),Object(b.jsx)("p",{children:"The page you are trying to search has been moved to another universe."})]})]})}):t?Object(b.jsx)(k,{}):n}),y=function(e){var t=e.totalPages;return Object(b.jsx)("footer",{className:"mt-auto bg-dark text-white-50 py-5",children:Object(b.jsx)("div",{className:"container text-center",children:t&&Object(b.jsxs)("p",{children:["Total Pages: ",t.pages]})})})},F=n(21),P=n.n(F),S=function(e){var t=e.onPageChange,n=e.currentPage,a=e.infoAboutPages,c=void 0===a?{}:a;if(e.isLoading)return Object(b.jsx)(k,{});var s=void 0===c.pages?1:c.pages,r=P.a.range(1,s+1);if(r.length>15){var i=r.slice(15);r=r.filter((function(e){return!i.includes(e)}))}return 1===s?null:Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("nav",{children:Object(b.jsxs)("ul",{className:"pagination",children:[1!==n?Object(b.jsx)("li",{className:"page-item",children:Object(b.jsx)("button",{className:"page-link",onClick:function(){t(n-1)},children:"Prev"})}):Object(b.jsx)(b.Fragment,{}),r.map((function(e){return Object(b.jsx)("li",{className:"page-item"+(e===n?" active":""),children:Object(b.jsx)("button",{className:"page-link",onClick:function(){t(e)},children:e})},e)})),n!==s?Object(b.jsx)("li",{className:"page-item",children:Object(b.jsx)("button",{className:"page-link",onClick:function(){t(n+1)},children:"Next"})}):Object(b.jsx)(b.Fragment,{})]})}),Object(b.jsx)("nav",{children:Object(b.jsx)("ul",{className:"pagination",children:Object(b.jsx)("li",{className:"page-item active",children:Object(b.jsxs)("button",{className:"page-link",children:["Current page: ",n]})})})})]})};S.default={infoAboutPages:{}};var E=S,L=n(13),T=n.n(L),A=n(16),H=n(9),R=new function e(){var t=this;Object(H.a)(this,e),this.getFiltersUrl=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t="";for(var n in e)""!==e.filter&&(t+="&".concat(n,"=").concat(e[n]));return t},this.getFiltersCharacter=Object(A.a)(T.a.mark((function e(){var n,a,c,s=arguments;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=s.length>0&&void 0!==s[0]?s[0]:{},a=s.length>1&&void 0!==s[1]?s[1]:1,c=t.getFiltersUrl(n),e.next=5,t.getResource("/character/?page=".concat(a).concat(c));case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)}))),this.getResource=function(){var e=Object(A.a)(T.a.mark((function e(n){var a,c;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(t.api).concat(n));case 2:if((a=e.sent).ok){e.next=7;break}throw(c=new Error("Could not fetch ".concat(n,", received ").concat(a.status))).status=a.status,c;case 7:return e.next=9,a.json();case 9:return e.abrupt("return",e.sent);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.api="https://rickandmortyapi.com/api"};var U=function(){var e=Object(a.useState)(1),t=Object(o.a)(e,2),n=t[0],c=t[1],s=Object(a.useState)({}),r=Object(o.a)(s,2),j=r[0],d=r[1],u=Object(a.useState)(""),h=Object(o.a)(u,2),m=h[0],O=h[1],g=Object(a.useState)(!0),f=Object(o.a)(g,2),p=f[0],v=f[1],N=Object(a.useState)({name:"",status:"",species:"",type:"",gender:""}),k=Object(o.a)(N,2),F=k[0],P=k[1];return Object(a.useEffect)((function(){v(!0),R.getFiltersCharacter(F,n).then((function(e){d(e),v(!1),O("")})).catch((function(e){console.error(e),d({}),O(e.status)}))}),[F,n]),Object(b.jsxs)("div",{className:"d-flex flex-column min-vh-100",children:[Object(b.jsx)(C,{onFilterChange:function(e,t){c(1),P(Object(l.a)(Object(l.a)({},F),{},Object(i.a)({},e,t)))},filters:F}),Object(b.jsx)("main",{className:"d-flex flex-column align-items-center",children:Object(b.jsxs)(w,{hasError:m,isLoading:p,children:[Object(b.jsx)(x,{characters:j.results}),Object(b.jsx)(E,{infoAboutPages:j.info,pageSize:20,currentPage:n,onPageChange:function(e){c(e)},isLoading:p})]})}),Object(b.jsx)(y,{totalPages:j.info})]})};r.a.render(Object(b.jsx)(c.a.StrictMode,{children:Object(b.jsx)(U,{})}),document.getElementById("root"))}},[[36,1,2]]]);
//# sourceMappingURL=main.d3f4040f.chunk.js.map